import os
import shared
import datetime
import matplotlib.pyplot as plt
from time import sleep
from operator import add
import numpy as np
from collections import OrderedDict

analyzing_rates = [500, 250, 50]
yticks_list = [0.0, 0.2, 0.4, 0.6, 0.8, 1.0]


def run_test(ctx):
    print('running test: {}'.format(os.path.basename(__file__)[:-3]))
    remoteHosts = ['beta', 'gamma']
    srv_params = {}
    clt_params = {}
    tls_fairness_list = []
    quic_fairness_list = []

    quic_500_y = [[0.924], [0.9391428571428572], [0.9015999999999998], [0.6316999999999999], [0.6761000000000001], [0.6492857142857141], [0.6325000000000001], [0.6609230769230768], [0.632], [0.5970999999999999], [0.6219], [0.6459999999999998], [0.6213846153846153], [0.627], [0.5371428571428571], [0.6056999999999999], [0.6209333333333333], [0.6378461538461538], [0.6298181818181817], [0.6356363636363636], [0.6180000000000001], [0.5258333333333333], [0.5832999999999999], [0.5989], [0.6081333333333332], [0.6226153846153846], [0.626], [0.718], [0.6756], [0.5801999999999999], [0.612], [0.5874545454545455], [0.5136000000000001], [0.5238333333333333], [0.577076923076923], [0.5761176470588235], [0.5794285714285714], [0.5860000000000001], [0.5932307692307692], [0.6241666666666669], [0.6615555555555556], [0.6584], [0.6107142857142858], [0.6084615384615384], [0.6250666666666667], [0.6314666666666665], [0.6128571428571429], [0.584], [0.5892499999999998], [0.5983999999999999], [0.605], [0.6002857142857143], [0.6245714285714286], [0.6276666666666667], [0.652], [0.6399999999999999], [0.6308333333333334], [0.6143076923076923], [0.6346153846153846], [0.6215384615384616], [0.6344615384615385], [0.6235384615384615], [0.6017142857142856], [0.5835384615384616], [0.6025333333333333], [0.5965333333333332], [0.608], [0.6126153846153847], [0.6025714285714285], [0.6348], [0.6384000000000001], [0.6674285714285714], [0.6415555555555557], [0.6276363636363637], [0.6551428571428571], [0.62325], [0.6164444444444445], [0.6262000000000001], [0.6280000000000001], [0.6248888888888889], [0.6029090909090908], [0.598], [0.6135], [0.6221818181818181], [0.5994285714285715], [0.5970000000000001], [0.6005], [0.6043333333333333], [0.606909090909091], [0.5983636363636364], [0.5826666666666666], [0.5868333333333332], [0.590923076923077], [0.5926666666666667], [0.5912307692307692], [0.5801818181818184], [0.5870769230769232], [0.5903076923076923], [0.6132307692307692], [0.58], [0.5846153846153846], [0.5972857142857143], [0.6032857142857144], [0.6086153846153846], [0.606], [0.6035384615384616], [0.6218333333333333], [0.6015], [0.5978461538461538], [0.6007692307692307], [0.6046666666666667], [0.5928333333333333], [0.5956666666666667], [0.5985454545454547], [0.600909090909091], [0.6216], [0.6273333333333334], [0.6248], [0.5986153846153847], [0.635090909090909], [0.6471111111111111], [0.6491111111111111], [0.6513333333333332], [0.66275], [0.6564444444444444], [0.6582222222222222], [0.6441818181818182], [0.6223636363636363], [0.6052000000000002], [0.5818000000000001], [0.5698181818181818], [0.5906], [0.5660000000000001], [0.5650909090909091], [0.5678181818181819], [0.5703636363636363], [0.5647272727272727], [0.5672727272727273], [0.5783999999999999], [0.5808000000000001], [0.5705454545454546], [0.585], [0.5871999999999999], [0.5750909090909091], [0.5772727272727273], [0.5789090909090909], [0.5943636363636362], [0.5761666666666665], [0.5778333333333334], [0.5750909090909091], [0.55], [0.5517142857142857], [0.5626666666666666], [0.5641428571428573], [0.5807692307692308], [0.592923076923077], [0.6050000000000001], [0.6216363636363637], [0.5907142857142859], [0.6030769230769232], [0.594], [0.6232727272727273], [0.6041818181818182], [0.6737777777777778], [0.6753333333333332], [0.6775], [0.6534000000000001], [0.6552], [0.6564], [0.6478181818181817], [0.621090909090909], [0.6266666666666666], [0.6216363636363637], [0.6275000000000001], [0.5981818181818181], [0.6172], [0.6182], [0.6202000000000001], [0.6134000000000001], [0.5918181818181819], [0.6078181818181818], [
        0.5943636363636364], [0.6142000000000001], [0.600909090909091], [0.5936000000000001], [0.594], [0.6081818181818182], [0.6130000000000001], [0.6505], [0.6622857142857143], [0.6639999999999999], [0.6651428571428571], [0.635], [0.6589999999999999], [0.6603333333333333], [0.6613333333333333], [0.6317142857142857], [0.6255], [0.62675], [0.6293999999999998], [0.6139999999999999], [0.6317999999999999], [0.633], [0.6440000000000001], [0.6448000000000002], [0.6212000000000001], [0.6258181818181818], [0.634], [0.629090909090909], [0.6305454545454545], [0.6316363636363636], [0.6256666666666666], [0.6398181818181817], [0.643090909090909], [0.646], [0.647], [0.67], [0.6713333333333334], [0.6722222222222222], [0.6571999999999999], [0.6742222222222223], [0.6757777777777778], [0.6766666666666665], [0.6504000000000001], [0.652], [0.653], [0.6511111111111112], [0.6517777777777778], [0.6376000000000001], [0.6237777777777778], [0.6212], [0.6085454545454545], [0.6096363636363636], [0.611], [0.6113999999999999], [0.6121999999999999], [0.6129999999999999], [0.6139999999999999], [0.6152], [0.6157999999999999], [0.6154545454545455], [0.6196], [0.6517499999999999], [0.6525], [0.6264444444444446], [0.6272], [0.6281999999999999], [0.6276363636363637], [0.6283636363636365], [0.6294545454545455], [0.6167272727272727], [0.618], [0.605], [0.6124999999999999], [0.6136666666666666], [0.6143636363636363], [0.6154545454545455], [0.6290000000000001], [0.63], [0.6304444444444445], [0.6313333333333333], [0.6322222222222222], [0.6331111111111112], [0.6537777777777778], [0.6548888888888889], [0.64025], [0.6417499999999999], [0.6038], [0.6246666666666667], [0.6255555555555555], [0.6295], [0.6477777777777777], [0.6486666666666666], [0.64925], [0.6791428571428572], [0.6902857142857144], [0.6749999999999999], [0.6597500000000001], [0.6331111111111111], [0.6325714285714286], [0.6337142857142857], [0.609], [0.61025], [0.61325], [0.61425], [0.6214285714285713], [0.5942500000000001], [0.5955], [0.5967499999999999], [0.5977499999999999], [0.6034999999999999], [0.6075], [0.622], [0.6234285714285716], [0.624], [0.6248571428571429], [0.6262857142857143], [0.6268571428571429], [0.6274285714285714], [0.6288571428571429], [0.6297142857142858], [0.6016666666666667], [0.6026666666666666], [0.6036666666666667], [0.6046666666666667], [0.6053333333333334], [0.556], [0.5566666666666666], [0.5573333333333333], [0.5586666666666668], [0.5843999999999999], [0.5448000000000001], [0.5871999999999999], [0.5472], [0.5884], [0.5379999999999999], [0.5133333333333333], [0.564], [0.5215000000000001], [0.573], [0.5745], [0.575], [0.5716000000000001], [0.5305], [0.5728000000000001], [0.505], [0.5345], [0.536], [0.5326666666666667], [0.5015000000000001], [0.5025000000000001], [0.48300000000000004], [0.5633333333333334], [0.564], [0.5815], [0.5815], [0.523], [0.525], [0.526], [0.5413333333333333], [0.5419999999999999], [0.5439999999999999], [0.545], [0.5533333333333333], [0.5344], [0.4965], [0.4965], [0.4985], [0.4995], [0.5135000000000001], [0.515], [0.5272], [0.528], [0.5225], [0.524], [0.5533333333333333], [0.5553333333333333], [0.5640000000000001], [0.5660000000000001], [0.5660000000000001], [0.5680000000000001], [0.5680000000000001], [0.5219999999999999], [0.5700000000000001], [0.5700000000000001], [0.5720000000000001], [0.5720000000000001], [0.5740000000000001], [0.5740000000000001], [0.576], [0.576], [0.577], [0.578], [0.579], [0.58], [0.581], [0.57], [0.57], [0.57], [0.572], [0.572], [0.556], [0.558], [0.558], [0.55], [0.55], [0.575], [0.562], [0.584]]
    quic_sum = 0

    for quic_item in quic_500_y:
        quic_sum += quic_item[0]

    quic_500_fairness = quic_sum / len(quic_500_y)
    print("\nquic 500 fairness: ", quic_500_fairness)

    tls_500_y = [[0.8934285714285715], [0.7163999999999999], [0.6682857142857143], [0.5023333333333334], [0.5071111111111111], [0.4399999999999999], [0.3349090909090909], [0.41270000000000007], [0.4038666666666666], [0.25766666666666665], [0.33399999999999996], [0.38160000000000005], [0.3705333333333333], [0.37046153846153845], [0.24966666666666668], [0.29672727272727273], [0.4005714285714285], [0.33814285714285713], [0.37300000000000005], [0.4582222222222223], [0.3538461538461538], [0.3535], [0.24366666666666667], [0.352], [0.30300000000000005], [0.3925714285714285], [0.3358461538461539], [0.4206153846153846], [0.35566666666666663], [0.4408571428571429], [0.36225000000000007], [0.4715999999999999], [0.36257142857142854], [0.242], [0.3188], [0.306], [0.3522857142857143], [0.37542857142857144], [0.37244444444444447], [0.3566666666666667], [0.3985], [0.4114285714285714], [0.329], [0.39039999999999997], [0.461], [0.358], [0.347], [0.33044444444444443], [0.25433333333333336], [0.29379999999999995], [0.31400000000000006], [0.3454545454545454], [0.3662], [0.3527272727272727], [0.3792727272727273], [0.37500000000000006], [0.38075], [0.42028571428571426], [0.4015], [0.3715555555555556], [0.35419999999999996], [0.3705454545454545], [0.3188888888888889], [0.3283333333333333], [0.3425714285714286], [0.34724999999999995], [0.37266666666666665], [0.39272727272727276], [0.38483333333333336], [0.39], [0.38760000000000006], [0.3954], [0.38309090909090915], [0.375], [0.37242857142857144], [0.40380000000000005], [0.40745454545454546], [0.4058333333333333], [0.4149999999999999], [0.3956363636363637], [0.3972727272727273], [0.4015], [0.44000000000000006], [0.46349999999999997], [0.44125], [0.44625], [0.42], [0.3793333333333333], [0.3844444444444444], [0.3897777777777778], [0.38450000000000006], [0.4005], [0.38275], [0.3605454545454546], [0.41019999999999995], [0.4115], [0.41600000000000004], [0.3874000000000001], [0.39], [0.39633333333333337], [0.404], [0.449], [0.4371428571428571], [0.4736666666666666], [0.47766666666666663], [0.458], [0.46033333333333326], [0.47519999999999996], [0.4382857142857143], [0.40885714285714286], [0.3897777777777778], [0.367], [0.36981818181818177], [0.4384], [0.4335555555555556], [0.4314], [0.41690909090909095], [0.41345454545454546], [0.43760000000000004], [0.42200000000000004], [0.44560000000000005], [0.4289090909090909], [0.4668888888888889], [0.44939999999999997], [0.44345454545454555], [0.4853333333333334], [0.48866666666666664], [0.47111111111111126], [0.4466666666666667], [0.4615], [0.42288888888888887], [0.42600000000000005], [0.47100000000000003], [0.4583333333333333], [0.48], [0.4296666666666667], [0.4720000000000001], [0.47000000000000003], [0.42285714285714293], [0.44966666666666666], [0.4526666666666666], [0.38599999999999995], [0.39828571428571424], [0.36560000000000004], [0.3737142857142857], [0.432], [0.4346666666666667], [0.386], [0.3877142857142858], [0.33171428571428574], [0.4452], [0.44880000000000003], [0.38885714285714285], [0.43520000000000003], [0.4123333333333334], [0.414], [0.41657142857142865], [0.4317142857142858], [0.43500000000000005], [0.4453333333333333], [0.447], [0.4508571428571429], [0.42725], [0.42974999999999997], [0.43288888888888893], [0.45575000000000004], [0.45849999999999996], [0.4044], [0.46375], [0.46675], [0.442], [0.44571428571428573], [0.4766666666666666], [0.4202857142857143], [0.41200000000000003], [0.41475], [0.41725], [0.4071999999999999], [0.42519999999999997], [0.4393333333333333], [0.4242], [0.4251111111111111], [0.41500000000000004], [0.4042222222222222], [0.40555555555555556], [0.43475], [0.4351111111111111], [0.4048333333333332], [0.4214545454545455], [0.42799999999999994], [0.3996666666666666], [0.46259999999999996], [0.46499999999999997], [0.44781818181818184], [0.4308333333333334], [0.47711111111111104], [0.47933333333333333], [0.4815555555555555], [0.4530909090909091], [0.4532], [0.45355555555555566], [0.45511111111111113], [0.44800000000000006], [0.45020000000000004], [0.4753333333333333], [0.458], [0.4595], [0.4493333333333333], [0.4320000000000001], [0.46525000000000005], [0.467], [0.4685], [0.4506], [0.4524], [0.45327272727272727], [0.479], [0.481], [0.48340000000000005], [0.4549090909090909], [0.4481818181818182], [0.4498181818181818], [0.49119999999999997], [0.4933333333333334], [0.4948888888888889], [0.47000000000000003], [0.4718000000000001], [0.47379999999999994], [0.48133333333333334], [0.501], [0.50275], [0.5085714285714286], [0.4846666666666667], [0.46060000000000006], [0.44909090909090915], [0.45799999999999996], [0.4596363636363636], [0.43420000000000003], [0.43579999999999997], [0.4378], [0.46222222222222226], [0.43866666666666676], [0.4598181818181818], [0.4614545454545454], [0.4866666666666668], [0.464], [0.4654545454545454], [0.5084000000000001], [0.5348888888888889], [0.5364444444444444], [0.5382222222222222], [0.5393333333333333], [0.49711111111111106], [0.5264444444444445], [0.528], [0.5297777777777779], [0.4936363636363637], [0.4952727272727273], [0.43516666666666665], [0.5277777777777778], [0.5293333333333332], [0.5306666666666666], [0.5322222222222223], [0.506909090909091], [0.5306], [0.5283636363636363], [0.5252727272727273], [0.46083333333333326], [0.4952], [0.5232], [0.4878181818181819], [0.5155555555555557], [0.4917999999999999], [0.4958], [0.4565454545454546], [0.4992], [0.5166666666666667], [0.5180000000000001], [0.4841818181818182], [0.4856363636363636], [0.4734], [0.4749999999999999], [
        0.4772], [0.4786], [0.451], [0.4696363636363636], [0.47363636363636363], [0.48218181818181804], [0.46890909090909094], [0.5036], [0.5054000000000001], [0.48083333333333345], [0.4825], [0.44984615384615384], [0.429], [0.45492307692307704], [0.4567692307692308], [0.42949999999999994], [0.4306666666666667], [0.4078461538461538], [0.4096923076923077], [0.4109230769230769], [0.41492307692307695], [0.41700000000000004], [0.44599999999999995], [0.42646153846153834], [0.42733333333333334], [0.429], [0.4306666666666666], [0.4323333333333334], [0.4335], [0.4110769230769231], [0.41446153846153855], [0.4163076923076922], [0.41753846153846147], [0.4256666666666667], [0.4278333333333333], [0.42850000000000005], [0.4250769230769231], [0.42692307692307685], [0.42861538461538456], [0.4164999999999999], [0.41783333333333345], [0.4004615384615384], [0.4026153846153846], [0.4043076923076923], [0.4081666666666666], [0.3707272727272727], [0.41123076923076923], [0.4123076923076923], [0.39749999999999996], [0.4206153846153847], [0.4008333333333333], [0.4235384615384615], [0.43214285714285705], [0.40985714285714286], [0.413125], [0.41500000000000004], [0.3989333333333333], [0.42040000000000005], [0.42133333333333334], [0.42306666666666676], [0.42613333333333336], [0.41400000000000003], [0.40242857142857147], [0.4202666666666666], [0.4214666666666667], [0.406857142857143], [0.388923076923077], [0.40714285714285714], [0.3416363636363636], [0.38861538461538464], [0.37000000000000005], [0.37418181818181817], [0.40338461538461534], [0.40507692307692306], [0.3881666666666666], [0.40784615384615386], [0.4096923076923077], [0.39300000000000007], [0.41000000000000003], [0.4114285714285714], [0.4198571428571429], [0.4046666666666667], [0.3676363636363637], [0.406], [0.3912], [0.3790769230769231], [0.38360000000000005], [0.42800000000000005], [0.39316666666666666], [0.34750000000000003], [0.38600000000000007], [0.37509090909090914], [0.3782857142857142], [0.3785], [0.3555], [0.363], [0.3636363636363637], [0.3601666666666667], [0.3802], [0.38033333333333336], [0.3815], [0.383], [0.3887272727272727], [0.3898181818181818], [0.3932727272727272], [0.3947272727272726], [0.3858333333333333], [0.38899999999999996], [0.3908333333333333], [0.3918333333333333], [0.4012727272727272], [0.40272727272727277], [0.3917777777777778], [0.3933333333333333], [0.41600000000000004], [0.41719999999999996], [0.4177999999999999], [0.4196], [0.41236363636363643], [0.3963636363636364], [0.4044], [0.41488888888888886], [0.4332], [0.40919999999999995], [0.41080000000000005], [0.41200000000000003], [0.39355555555555555], [0.3958181818181819], [0.3885], [0.3869230769230769], [0.3886153846153846], [0.39399999999999996], [0.3912307692307691], [0.3924615384615385], [0.3981666666666666], [0.3978461538461539], [0.39876923076923076], [0.40633333333333327], [0.4076666666666667], [0.4086666666666667], [0.4098333333333333], [0.41133333333333333], [0.4128333333333332], [0.4110909090909091], [0.41254545454545455], [0.41363636363636364], [0.4048888888888888], [0.4057777777777778], [0.4075555555555555], [0.40822222222222215], [0.4024000000000001], [0.4016666666666666], [0.4053333333333333], [0.40666666666666657], [0.3945454545454545], [0.39581818181818185], [0.3970909090909091], [0.3983636363636363], [0.40090909090909094], [0.40254545454545454], [0.40418181818181814], [0.40581818181818186], [0.40709090909090917], [0.40800000000000003], [0.39619999999999994], [0.39977777777777784], [0.4002222222222223], [0.40177777777777773], [0.40244444444444444], [0.4037777777777778], [0.4053333333333333], [0.40644444444444444], [0.4073333333333334], [0.4056], [0.40755555555555545], [0.4093333333333334], [0.41000000000000003], [0.4115555555555555], [0.41774999999999995], [0.4137777777777778], [0.41488888888888886], [0.42124999999999996], [0.41711111111111115], [0.42125], [0.43], [0.42375], [0.42475], [0.42624999999999996], [0.42674999999999996], [0.41714285714285715], [0.41111111111111115], [0.41622222222222216], [0.419], [0.41850000000000004], [0.41933333333333334], [0.42275], [0.4215555555555556], [0.4224444444444445], [0.42377777777777775], [0.41428571428571426], [0.41800000000000004], [0.4185714285714286], [0.42057142857142854], [0.42057142857142854], [0.4225714285714286], [0.4225714285714286], [0.42457142857142854], [0.42457142857142854], [0.4265714285714286], [0.43100000000000005], [0.433], [0.433], [0.43500000000000005], [0.436], [0.4368], [0.43760000000000004], [0.43879999999999997], [0.432], [0.43333333333333335], [0.43366666666666664], [0.43533333333333335], [0.436], [0.43733333333333335], [0.4376666666666667], [0.43933333333333335], [0.442], [0.4436666666666667], [0.444], [0.44566666666666666], [0.446], [0.4476666666666667], [0.44766666666666666], [0.44933333333333336], [0.4496666666666667], [0.45133333333333336], [0.4495], [0.4505], [0.43920000000000003], [0.4408], [0.41200000000000003], [0.41200000000000003], [0.41400000000000003], [0.41400000000000003], [0.41600000000000004], [0.41533333333333333], [0.4166666666666667], [0.41733333333333333], [0.4186666666666667], [0.41933333333333334], [0.4206666666666667], [0.42133333333333334], [0.4226666666666667], [0.42333333333333334], [0.4246666666666667], [0.42533333333333334], [0.426], [0.417], [0.418], [0.418], [0.42], [0.42], [0.422], [0.422], [0.424], [0.424], [0.426], [0.426], [0.427], [0.428], [0.42], [0.422], [0.422], [0.422], [0.424], [0.424], [0.426], [0.426], [0.423], [0.425], [0.425], [0.426]]
    tls_sum = 0

    for tls_item in tls_500_y:
        tls_sum += tls_item[0]

    tls_500_fairness = tls_sum / len(tls_500_y)
    print("\ntls 500 fairness: ", tls_500_fairness)

    quic_fairness_list.append(float("{0:.2f}".format(quic_500_fairness)))
    tls_fairness_list.append(float("{0:.2f}".format(tls_500_fairness)))

    #### 250 ####

    quic_250_y = [[0.9204444444444445], [0.912], [0.7573333333333334], [0.7816000000000002], [0.7954285714285714], [0.8813333333333334], [0.8582222222222222], [0.7128], [0.7282666666666667], [0.7342857142857142], [0.7563076923076922], [0.8293333333333334], [0.8046666666666668], [0.8109999999999999], [0.6843076923076924], [0.6969230769230769], [0.6959999999999998], [0.7095384615384616], [0.6911428571428571], [0.7098181818181817], [0.7058181818181818], [0.7788571428571428], [0.7819999999999999], [0.7275555555555555], [0.7488888888888889], [0.7546666666666666], [0.6535384615384614], [0.6486666666666667], [0.6363636363636364], [0.6647272727272727], [0.6643333333333333], [0.6574545454545455], [0.6654545454545455], [0.6862222222222223], [0.6885714285714286], [0.7102222222222222], [0.6738181818181819], [0.6781818181818182], [0.6772], [0.6866666666666666], [0.6872727272727274], [0.6827692307692307], [0.7098461538461538], [0.690153846153846], [0.6853333333333333], [0.7087272727272725], [0.7133333333333334], [0.7169999999999997], [0.7368888888888888], [0.734], [0.7374999999999999], [0.7214999999999999], [0.7494999999999999], [0.7485], [0.7097142857142856], [0.6808888888888889], [0.6527999999999999], [0.724], [0.737], [0.742], [0.7243636363636363], [0.7295999999999999], [0.7378181818181818], [0.7156666666666666], [0.7186666666666669], [0.7225454545454546], [0.6936], [0.6956], [0.6861818181818183], [0.6866666666666666], [0.6909090909090909], [0.7003636363636363], [0.6897777777777778], [0.7208888888888889], [0.7239999999999999], [0.7302222222222222], [0.7375], [0.742], [0.7615999999999999], [0.7342857142857142], [0.7235], [0.6884], [0.6792727272727274], [0.6839999999999999], [0.6646666666666666], [0.6663333333333333], [0.6627692307692308], [0.6529230769230769], [0.6573333333333332], [0.6653333333333334], [0.6669999999999999], [0.6971999999999999], [0.6952], [0.704], [0.759], [0.7857142857142856], [0.7293333333333334], [0.72], [0.7127272727272728], [0.7156666666666666], [0.7173333333333333], [0.7218181818181818], [0.7143333333333333], [0.6876923076923076], [0.6898461538461539], [0.6978461538461538], [0.6993846153846154], [0.7012307692307692], [0.6952727272727274], [0.703], [0.7111999999999999], [0.7136], [0.722], [0.7368888888888888], [0.748], [0.6995555555555556], [0.6967272727272728], [0.6978181818181818], [0.7007272727272726], [0.6633333333333332], [0.6603636363636363], [0.6786666666666666], [0.6767272727272727], [0.6698461538461539], [0.6707692307692307], [0.6726153846153846], [0.6744615384615386], [0.6753846153846155], [0.6829999999999998], [0.6775384615384614], [0.6796923076923077], [0.6806153846153846], [0.7069090909090908], [0.6778181818181819], [0.6803636363636364], [
        0.6818181818181819], [0.6896], [0.6904], [0.6920000000000001], [0.6932000000000001], [0.6956], [0.7053333333333334], [0.7005], [0.6805714285714286], [0.6733333333333333], [0.6699999999999999], [0.6923636363636363], [0.6956363636363636], [0.6839999999999999], [0.6859999999999999], [0.6985454545454545], [0.7007272727272728], [0.7036], [0.691], [0.6926666666666667], [0.694], [0.695], [0.6963333333333334], [0.6976666666666667], [0.699], [0.6996666666666668], [0.7016666666666668], [0.7145454545454546], [0.7080000000000001], [0.7], [0.7094545454545454], [0.7138181818181818], [0.7156666666666666], [0.7421818181818182], [0.7294545454545454], [0.7309090909090908], [0.7476], [0.7488], [0.75], [0.7330909090909089], [0.752], [0.752], [0.7341818181818183], [0.7352727272727274], [0.736], [0.7276666666666668], [0.7163636363636363], [0.7083636363636364], [0.7287999999999999], [0.7292], [0.7296], [0.7546666666666666], [0.725], [0.7098461538461538], [0.7104000000000001], [0.6927272727272729], [0.712], [0.6938181818181819], [0.6960000000000001], [0.6788000000000001], [0.6792], [0.6804000000000001], [0.6635555555555556], [0.65], [0.6505000000000001], [0.6605714285714285], [0.6617142857142857], [0.6353333333333334], [0.5946666666666668], [0.5980000000000001], [0.6577142857142857], [0.642], [0.6194285714285714], [0.6006666666666667], [0.6013333333333334], [0.6046666666666667], [0.6046666666666667], [0.6073333333333334], [0.5976000000000001], [0.5853333333333334], [0.5873333333333334], [0.5846666666666668], [0.5860000000000001], [0.588], [0.603], [0.605], [0.6096], [0.6112], [0.612], [0.6133333333333334], [0.614], [0.6153333333333334], [0.6017142857142856], [0.618], [0.6186666666666667], [0.6193333333333334], [0.622], [0.6426666666666667], [0.6426666666666667], [0.6446666666666666], [0.6466666666666666], [0.6466666666666666], [0.636], [0.6213333333333334], [0.6272], [0.624], [0.6013333333333334], [0.628], [0.5980000000000001], [0.5980000000000001], [0.5946666666666668], [0.5960000000000001], [0.5973333333333334], [0.6050000000000001], [0.6050000000000001], [0.6070000000000001], [0.6080000000000001], [0.6090000000000001], [0.5933333333333334], [0.5730000000000001], [0.5960000000000001], [0.5973333333333333], [0.5986666666666666], [0.5986666666666666], [0.574], [0.585], [0.586], [0.5786666666666667], [0.58], [0.58], [0.552], [0.552], [0.556], [0.522], [0.524], [0.524], [0.524], [0.528], [0.528], [0.528], [0.552], [0.5546666666666668], [0.548], [0.56], [0.56], [0.528], [0.532], [0.542], [0.542], [0.544], [0.546], [0.546], [0.548], [0.55], [0.55], [0.552], [0.552], [0.544], [0.548], [0.548], [0.548], [0.548], [0.552], [0.552], [0.552], [0.54], [0.524], [0.524], [0.524]]

    quic_sum = 0

    for quic_item in quic_250_y:
        quic_sum += quic_item[0]

    quic_250_fairness = quic_sum / len(quic_250_y)
    print("\nquic 250 fairness: ", quic_250_fairness)

    tls_250_y = [[0.9133333333333334], [0.8605714285714287], [0.6195999999999999], [0.5233333333333333], [0.122], [0.4332], [0.39866666666666667], [0.21], [0.20628571428571427], [0.38755555555555554], [0.4625], [0.152], [0.18666666666666665], [0.16499999999999998], [0.2095], [0.3542222222222222], [0.397], [0.44857142857142857], [0.408], [0.152], [0.18], [0.152], [0.256], [0.225], [0.35333333333333333], [0.33955555555555555], [0.3645], [0.3542222222222222], [0.3535], [0.3925714285714286], [0.178], [0.334], [0.2906666666666667], [0.248], [0.2826666666666667], [0.24133333333333332], [0.28300000000000003], [0.3032], [0.37279999999999996], [0.3453333333333333], [0.362], [0.32239999999999996], [0.36799999999999994], [0.308], [0.306], [0.314], [0.317], [0.32], [0.24666666666666667], [0.2906666666666667], [0.36], [0.37], [0.38], [0.31733333333333336], [0.315], [0.3456], [0.44], [0.4328], [0.3413333333333333], [0.358], [0.363], [0.32466666666666666], [0.3605714285714286], [0.34914285714285714], [0.39000000000000007], [0.34600000000000003], [0.35333333333333333], [0.4], [0.3976], [0.44899999999999995], [0.44799999999999995], [0.46], [0.30600000000000005], [0.28959999999999997], [0.332], [0.34], [0.37679999999999997], [0.40599999999999997], [0.48666666666666664], [0.451], [0.29942857142857143], [0.26680000000000004], [0.2573333333333333], [0.2992], [0.33279999999999993], [0.408], [0.414], [0.34700000000000003], [0.25], [0.369], [0.37600000000000006], [0.3786666666666667], [0.41800000000000004], [0.364], [0.32899999999999996], [0.39599999999999996], [0.3824], [0.386], [0.393], [0.36399999999999993], [0.3773333333333333], [0.38266666666666665], [0.33], [0.352], [0.296], [0.3016], [0.284], [0.328], [0.33866666666666667], [0.37600000000000006], [0.39866666666666667], [0.3026666666666667], [0.29300000000000004], [0.38666666666666666], [0.3423999999999999], [0.42], [0.352], [0.436], [0.353], [0.33999999999999997], [0.346], [0.386], [0.39], [0.452], [0.456], [0.326], [0.33], [0.204], [0.18666666666666665], [0.3453333333333333], [0.34800000000000003], [0.3344], [0.3384], [0.347], [0.3053333333333333], [0.254], [0.26], [0.22000000000000003], [0.21700000000000003], [0.2773333333333334], [0.2813333333333334], [0.27799999999999997], [0.282], [0.286], [0.24399999999999997], [0.283], [0.3053333333333333], [0.33999999999999997], [0.23399999999999999], [0.216], [0.20199999999999999], [0.17333333333333334], [0.356], [0.356], [0.188], [0.196], [0.278], [0.27799999999999997], [0.24666666666666667], [0.295], [0.298], [0.304], [0.2504], [0.311], [0.315], [0.318], [0.3253333333333333], [0.24], [0.244], [0.226], [0.218], [0.26799999999999996], [0.27066666666666667], [0.2733333333333333], [0.252], [0.22533333333333336], [0.22799999999999998], [0.302], [0.306], [0.31], [0.21466666666666664], [0.237], [0.22399999999999998], [0.128], [0.132], [0.18000000000000002], [0.15800000000000003], [0.18800000000000003], [0.16799999999999998], [0.172], [0.174], [0.14], [0.2112], [0.1965714285714286], [0.1977777777777778], [0.1945], [0.22800000000000006], [0.2204], [0.23200000000000004], [0.21650000000000003], [0.18628571428571433], [0.21085714285714285], [0.22711111111111112], [0.22150000000000003], [0.17533333333333334], [0.17733333333333334], [0.18066666666666667], [0.18400000000000002], [0.18800000000000003], [0.19200000000000003], [0.2008], [0.2048], [0.21999999999999997], [0.22399999999999998], [
        0.19942857142857143], [0.20285714285714285], [0.20514285714285713], [0.22949999999999995], [0.19257142857142856], [0.19542857142857142], [0.2165], [0.1942857142857143], [0.1965714285714286], [0.2065], [0.209], [0.2125], [0.19199999999999998], [0.19485714285714284], [0.19714285714285712], [0.19999999999999998], [0.2155], [0.21799999999999997], [0.22249999999999998], [0.22599999999999998], [0.22933333333333333], [0.22533333333333333], [0.228], [0.23080000000000003], [0.23440000000000003], [0.25054545454545457], [0.2538181818181818], [0.2570909090909091], [0.24359999999999998], [0.24720000000000003], [0.25040000000000007], [0.24711111111111114], [0.2502222222222222], [0.25333333333333335], [0.2551111111111111], [0.2582222222222222], [0.2604444444444445], [0.2611428571428572], [0.264], [0.266], [0.26866666666666666], [0.272], [0.2834285714285715], [0.2833333333333333], [0.28400000000000003], [0.28285714285714286], [0.28200000000000003], [0.28400000000000003], [0.29822222222222217], [0.293090909090909], [0.2952727272727272], [0.28355555555555556], [0.2992727272727272], [0.2967272727272727], [0.30299999999999994], [0.3053333333333333], [0.3092], [0.31079999999999997], [0.3217777777777778], [0.3236], [0.3144], [0.31720000000000004], [0.31839999999999996], [0.3181818181818182], [0.3163333333333333], [0.3193333333333333], [0.32599999999999996], [0.3296666666666666], [0.3303333333333333], [0.3336666666666666], [0.3346666666666666], [0.3399999999999999], [0.34166666666666656], [0.3366153846153845], [0.33846153846153837], [0.34719999999999995], [0.34906666666666664], [0.3502857142857142], [0.3517142857142856], [0.3542857142857142], [0.3557142857142857], [0.358], [0.3594285714285714], [0.3651428571428571], [0.36746666666666666], [0.36906666666666665], [0.37093333333333334], [0.3725333333333333], [0.3751428571428571], [0.37685714285714284], [0.3772307692307692], [0.3883636363636363], [0.39066666666666666], [0.3909090909090909], [0.39272727272727265], [0.39454545454545453], [0.39299999999999996], [0.3873846153846153], [0.3889230769230769], [0.39076923076923076], [0.3923076923076923], [0.39233333333333326], [0.39566666666666667], [0.39633333333333337], [0.39899999999999997], [0.39999999999999997], [0.4023333333333334], [0.4024], [0.4053333333333333], [0.40577777777777774], [0.408], [0.412], [0.41333333333333333], [0.4088], [0.41], [0.4100000000000001], [0.4116666666666667], [0.413], [0.41500000000000004], [0.4166666666666667], [0.41563636363636364], [0.4174545454545454], [0.41533333333333333], [0.42133333333333334], [0.42333333333333334], [0.4246666666666667], [0.42184615384615387], [0.4233846153846154], [0.4246153846153847], [0.4261538461538462], [0.4326666666666667], [0.44100000000000006], [0.4426666666666667], [0.4480000000000001], [0.44866666666666677], [0.4487272727272728], [0.4466666666666667], [0.444], [0.43142857142857144], [0.43314285714285716], [0.4348571428571429], [0.43133333333333335], [0.448], [0.432], [0.408], [0.408], [0.448], [0.4], [0.356], [0.356], [0.4], [0.4], [0.4], [0.404], [0.404], [0.404], [0.408], [0.408], [0.412], [0.412], [0.412], [0.416], [0.42], [0.4093333333333333], [0.41333333333333333], [0.41333333333333333], [0.41333333333333333], [0.41000000000000003], [0.41000000000000003], [0.41000000000000003], [0.41200000000000003], [0.4], [0.4], [0.404], [0.404], [0.404], [0.408], [0.408], [0.412], [0.412], [0.412], [0.412]]

    tls_sum = 0

    for tls_item in tls_250_y:
        tls_sum += tls_item[0]

    tls_250_fairness = tls_sum / len(tls_250_y)
    print("\ntls 250 fairness: ", tls_250_fairness)

    quic_fairness_list.append(float("{0:.2f}".format(quic_250_fairness)))
    tls_fairness_list.append(float("{0:.2f}".format(tls_250_fairness)))

    #### 50 ####

    quic_50_y = [[0.986896551724138], [0.9600000000000006], [0.9413333333333338], [0.9400000000000003], [0.9266666666666673], [0.9200000000000007], [0.9047619047619051], [0.8962500000000003], [0.8840000000000002], [0.8611111111111114], [0.8611111111111114], [0.8290000000000001], [0.791304347826087], [0.7936363636363637], [0.7407142857142857], [0.7485714285714288], [0.751851851851852], [0.7523076923076926], [0.7561538461538463], [0.7630769230769232], [0.7591304347826089], [0.7789473684210527], [0.7810526315789476], [0.7941176470588237], [0.7900000000000001], [0.7944444444444446], [0.7823529411764708], [0.7300000000000001], [0.7733333333333334], [0.7714285714285715], [0.772857142857143], [0.7263157894736844], [0.7587500000000001], [0.7333333333333334], [0.7150000000000001], [0.7000000000000002], [0.6666666666666669], [0.6708333333333335], [0.6756521739130437], [0.6778571428571432], [0.6871428571428572], [0.6866666666666668], [0.6736363636363636], [0.7241379310344827], [0.7371428571428573], [0.7392592592592594], [0.7446153846153847], [0.7392307692307695], [0.740769230769231], [0.7730434782608697], [0.784], [0.7695238095238095], [0.7745454545454546], [0.7695652173913045], [0.7747826086956522], [0.7650000000000001], [0.771304347826087], [0.7809523809523811], [0.7799999999999999], [0.7518181818181818], [0.7591666666666668], [0.7536363636363638], [0.7418181818181818], [0.7461538461538463], [0.7608000000000003], [0.7608000000000003], [0.7555555555555558], [0.7432000000000002], [0.7584615384615385], [0.7843478260869566], [0.7791304347826088], [0.7900000000000001], [0.7904761904761906], [0.7900000000000003], [0.8000000000000003], [0.8210000000000003], [0.805263157894737], [0.7820000000000001], [0.7910000000000001], [0.7822222222222223], [0.7695238095238095], [0.7628571428571428], [0.7666666666666667], [0.7725], [0.7609090909090912], [0.7591304347826089], [0.7554545454545457], [0.7563636363636366], [0.7418181818181818], [0.7371428571428572], [0.7443478260869567], [0.7390476190476191], [0.7329999999999999], [0.7200000000000002], [0.7282352941176471], [0.7352941176470589], [0.7355555555555555], [0.76], [0.76125], [0.7635294117647059], [0.7647058823529411], [0.7813333333333333], [0.7675000000000001], [0.7694736842105264], [0.7722222222222223], [0.7588235294117647], [0.7644444444444445], [0.7744444444444445], [0.7675000000000001], [0.7611111111111111], [0.7494736842105262], [0.7580952380952382], [0.740952380952381], [0.7410000000000001], [0.740909090909091], [0.7518181818181819], [0.7486956521739131], [0.7345454545454545], [0.7391666666666667], [0.7391304347826086], [0.7408695652173912], [0.7495238095238095], [0.7383333333333334], [0.7283333333333334], [0.7376], [0.7424999999999998], [
        0.7504], [0.7627272727272726], [0.7723809523809523], [0.7704761904761903], [0.7942857142857142], [0.7999999999999998], [0.788181818181818], [0.7909090909090907], [0.8009523809523807], [0.7936842105263157], [0.7973913043478259], [0.7878260869565217], [0.7982608695652172], [0.7772727272727272], [0.782608695652174], [0.7716666666666666], [0.769090909090909], [0.7833333333333332], [0.7758333333333333], [0.7721739130434784], [0.7753846153846153], [0.7736], [0.7716666666666666], [0.7638095238095237], [0.7695652173913043], [0.7854545454545453], [0.7857142857142857], [0.7866666666666666], [0.7866666666666666], [0.7873684210526315], [0.7879999999999999], [0.7889999999999999], [0.7833333333333332], [0.766], [0.7629999999999999], [0.7619047619047619], [0.7618181818181817], [0.7729999999999999], [0.7729999999999999], [0.7769999999999999], [0.7569999999999999], [0.7768421052631578], [0.7715789473684209], [0.7741176470588236], [0.74], [0.7611111111111111], [0.7610526315789473], [0.7642105263157893], [0.7711111111111111], [0.7577777777777777], [0.7505882352941176], [0.7388235294117647], [0.7352941176470589], [0.75], [0.767142857142857], [0.7533333333333334], [0.7522222222222222], [0.754], [0.755], [0.7514285714285716], [0.7514285714285716], [0.7657142857142858], [0.7745454545454546], [0.7652631578947368], [0.7458823529411764], [0.7388235294117648], [0.7388235294117648], [0.7424999999999999], [0.735], [0.7133333333333333], [0.7266666666666667], [0.7272727272727273], [0.7254545454545455], [0.7142857142857143], [0.7157142857142859], [0.7157142857142859], [0.7], [0.7013333333333335], [0.7013333333333333], [0.6800000000000002], [0.6846153846153846], [0.6866666666666666], [0.6836363636363636], [0.6836363636363636], [0.6716666666666667], [0.6672727272727272], [0.656], [0.6759999999999999], [0.6933333333333332], [0.6666666666666666], [0.6599999999999999], [0.6457142857142857], [0.6457142857142857], [0.6549999999999999], [0.6666666666666666], [0.6666666666666666], [0.6559999999999999], [0.6849999999999999], [0.6849999999999999], [0.6966666666666668], [0.692], [0.692], [0.6633333333333334], [0.6519999999999999], [0.64], [0.62], [0.62], [0.62], [0.62], [0.6533333333333333], [0.6533333333333333], [0.63], [0.63], [0.63], [0.63], [0.63], [0.65], [0.65], [0.65], [0.65], [0.65], [0.65], [0.65], [0.65], [0.64], [0.64], [0.64], [0.64], [0.64], [0.56], [0.48], [0.48], [0.47], [0.47], [0.47], [0.47], [0.47], [0.47], [0.47], [0.47], [0.47], [0.47], [0.47], [0.48], [0.48], [0.49], [0.49], [0.49], [0.49], [0.49], [0.49], [0.49], [0.49], [0.49], [0.49], [0.5], [0.53], [0.53], [0.53], [0.53], [0.54], [0.56], [0.54], [0.54], [0.54], [0.54], [0.54], [0.54], [0.54], [0.56], [0.52], [0.52]]

    quic_sum = 0

    for quic_item in quic_50_y:
        quic_sum += quic_item[0]

    quic_50_fairness = quic_sum / len(quic_50_y)
    print("\nquic 50 fairness: ", quic_50_fairness)

    tls_50_y = [[0.9130434782608701], [0.9161538461538468], [0.85], [0.7977777777777777], [0.84], [0.7844444444444445], [0.734], [0.7420000000000001], [0.82], [0.8], [0.26800000000000007], [0.396], [0.5], [0.49], [0.44499999999999995], [0.43333333333333335], [0.3888888888888889], [0.49714285714285716], [0.43000000000000005], [0.49250000000000005], [0.5125000000000001], [0.47272727272727283], [0.5325], [0.44500000000000006], [0.092], [0.135], [0.18], [0.13999999999999999], [0.18], [0.31599999999999995], [0.30666666666666664], [0.2885714285714286], [0.52], [0.45499999999999996], [0.5933333333333334], [0.38799999999999996], [0.405], [0.47000000000000003], [0.4533333333333333], [0.45999999999999996], [0.5599999999999999], [0.6], [0.48], [0.44], [0.39142857142857146], [0.23600000000000004], [0.38000000000000006], [0.09000000000000001], [0.16], [0.12666666666666668], [0.1], [0.16], [0.16], [0.18], [0.2], [0.41], [0.43], [0.36000000000000004], [0.384], [0.3228571428571429], [0.3914285714285714], [0.3514285714285714], [0.45599999999999996], [0.38], [0.38571428571428573], [0.41600000000000004], [0.30400000000000005], [0.335], [0.42000000000000004], [0.43000000000000005], [0.295], [0.44], [0.325], [0.272], [0.34], [0.2900000000000001], [0.25], [0.26666666666666666], [0.36800000000000005], [0.37000000000000005], [0.47000000000000003], [0.33142857142857146], [0.36999999999999994], [0.36999999999999994], [0.368], [0.4149999999999999], [0.3466666666666667], [0.35333333333333333], [0.33999999999999997], [0.3666666666666667], [0.35], [0.17], [0.2], [0.2], [0.15000000000000002], [0.32], [0.32666666666666666], [0.28], [0.29333333333333333], [0.31], [0.315], [0.35000000000000003], [0.31000000000000005], [0.30500000000000005], [0.375], [0.3266666666666667], [0.36333333333333334], [0.3114285714285714], [0.3171428571428571], [0.3433333333333333], [0.364], [0.37], [0.46], [0.38], [0.388], [0.31666666666666665], [0.37333333333333335], [0.5066666666666667], [0.52], [0.48000000000000004], [0.55], [0.38], [0.4933333333333334], [0.41000000000000003], [0.41000000000000003], [0.41000000000000003], [0.42000000000000004], [0.42500000000000004], [0.4466666666666667], [0.385], [0.328], [0.5133333333333333], [0.32000000000000006], [0.31500000000000006], [0.25], [0.21000000000000002], [0.265], [0.29714285714285715], [0.29714285714285715], [0.392], [0.3866666666666667], [0.395], [0.3866666666666667], [0.39333333333333337], [0.24666666666666667], [0.24000000000000005], [0.24800000000000005], [0.25600000000000006], [0.2166666666666667], [0.16750000000000004], [0.1622222222222222], [0.148], [0.186], [0.17600000000000002], [0.2022222222222222], [0.19777777777777777], [0.17500000000000002], [0.20000000000000004], [0.18545454545454546], [0.19272727272727275], [0.12], [0.11777777777777779], [0.12444444444444445], [0.13111111111111112], [0.16], [0.158], [0.1509090909090909], [0.13166666666666668], [0.13272727272727272], [0.12666666666666668], [0.13454545454545455], [0.2016666666666667], [0.18923076923076926], [0.19571428571428573], [0.18000000000000002], [0.19230769230769235], [0.1938461538461539], [0.18571428571428575], [0.18400000000000005], [0.18800000000000006], [0.20625000000000007], [0.20823529411764713], [0.19750000000000006], [0.20125000000000007], [0.20875000000000007], [0.21600000000000008], [0.22266666666666673], [0.2173333333333334], [0.22533333333333339], [0.2314285714285715], [0.22857142857142865], [0.23230769230769235], [0.23692307692307693], [0.23666666666666666], [0.24857142857142864], [0.2306666666666667], [0.23500000000000001], [0.18875], [0.19200000000000006], [0.19882352941176473], [0.20000000000000004], [0.20249999999999999], [0.21000000000000005], [0.2125], [0.21411764705882352], [0.21066666666666667], [0.21888888888888894], [0.2255555555555556], [0.22999999999999993], [0.2378947368421053], [0.22666666666666668], [0.2136842105263158], [0.23111111111111113], [0.2364705882352941], [0.23499999999999996], [
        0.23699999999999996], [0.23684210526315785], [0.24], [0.2421052631578947], [0.23888888888888887], [0.22421052631578947], [0.22400000000000003], [0.227], [0.22952380952380957], [0.2372727272727273], [0.2361904761904762], [0.2361904761904762], [0.23904761904761906], [0.24], [0.2457142857142857], [0.244], [0.2504761904761904], [0.254], [0.25], [0.2536842105263158], [0.2571428571428572], [0.2628571428571429], [0.264], [0.26599999999999996], [0.2647619047619048], [0.267], [0.26947368421052625], [0.2779999999999999], [0.2771428571428571], [0.279047619047619], [0.27904761904761904], [0.27904761904761904], [0.27899999999999997], [0.2726315789473684], [0.28285714285714286], [0.2927272727272727], [0.2936363636363637], [0.2973913043478261], [0.30560000000000004], [0.3096000000000001], [0.31090909090909097], [0.31238095238095237], [0.3181818181818182], [0.3236363636363636], [0.3245454545454545], [0.33], [0.33], [0.33272727272727276], [0.331], [0.33565217391304353], [0.33238095238095244], [0.33727272727272734], [0.3352380952380953], [0.340909090909091], [0.3420000000000001], [0.3476190476190477], [0.3400000000000001], [0.3533333333333334], [0.3560000000000001], [0.3610000000000001], [0.35400000000000004], [0.36000000000000004], [0.3570000000000001], [0.356], [0.34444444444444444], [0.36200000000000004], [0.35684210526315796], [0.36631578947368426], [0.3682352941176471], [0.37578947368421056], [0.3633333333333334], [0.368888888888889], [0.3670588235294118], [0.37157894736842106], [0.37600000000000006], [0.38000000000000006], [0.37800000000000006], [0.3845454545454546], [0.38], [0.38181818181818183], [0.38000000000000006], [0.39043478260869574], [0.3878260869565218], [0.38173913043478264], [0.3843478260869566], [0.3752000000000001], [0.38083333333333336], [0.3874074074074075], [0.3853846153846155], [0.3884615384615385], [0.3861538461538462], [0.3904000000000001], [0.3903703703703704], [0.39280000000000004], [0.39777777777777784], [0.3958333333333333], [0.4000000000000001], [0.4000000000000001], [0.40240000000000015], [0.4120000000000001], [0.413846153846154], [0.41130434782608705], [0.41043478260869576], [0.40818181818181826], [0.4147826086956523], [0.4114285714285715], [0.4109999999999999], [0.4011764705882353], [0.40842105263157896], [0.392], [0.40000000000000013], [0.3753846153846154], [0.39375000000000004], [0.3853333333333334], [0.39647058823529424], [0.3866666666666667], [0.3975000000000001], [0.38571428571428573], [0.3866666666666667], [0.3871428571428571], [0.3885714285714286], [0.3830769230769231], [0.39285714285714285], [0.3923076923076923], [0.40153846153846157], [0.39692307692307693], [0.40266666666666673], [0.3971428571428572], [0.4], [0.4000000000000001], [0.4000000000000001], [0.4013333333333334], [0.4], [0.4026666666666667], [0.4014285714285714], [0.4028571428571429], [0.4061538461538462], [0.4114285714285715], [0.4138461538461539], [0.41076923076923083], [0.41846153846153855], [0.41], [0.4127272727272727], [0.41], [0.41000000000000003], [0.41333333333333333], [0.4181818181818182], [0.4127272727272727], [0.41400000000000003], [0.39714285714285713], [0.3666666666666667], [0.38000000000000006], [0.37333333333333335], [0.38000000000000006], [0.37333333333333335], [0.38000000000000006], [0.37333333333333335], [0.36000000000000004], [0.33999999999999997], [0.3666666666666667], [0.33999999999999997], [0.3666666666666667], [0.35], [0.37333333333333335], [0.36], [0.38000000000000006], [0.36], [0.38000000000000006], [0.36], [0.38000000000000006], [0.36], [0.36], [0.36], [0.36], [0.37], [0.37], [0.37], [0.37], [0.37], [0.38], [0.34], [0.34], [0.34], [0.34], [0.34], [0.34], [0.34], [0.34], [0.34], [0.36], [0.36], [0.36], [0.36], [0.36], [0.36], [0.36], [0.36], [0.36], [0.37], [0.37], [0.37], [0.37], [0.37], [0.38], [0.38], [0.38], [0.38], [0.38], [0.38], [0.38], [0.38], [0.38], [0.34], [0.34], [0.34], [0.34], [0.34], [0.34], [0.34], [0.34], [0.34], [0.36], [0.36]]

    tls_sum = 0

    for tls_item in tls_50_y:
        tls_sum += tls_item[0]

    tls_50_fairness = tls_sum / len(tls_50_y)
    print("\ntls 50 fairness: ", tls_50_fairness)

    quic_fairness_list.append(float("{0:.2f}".format(quic_50_fairness)))
    tls_fairness_list.append(float("{0:.2f}".format(tls_50_fairness)))

    plot_data_bar_plot(quic_fairness_list, tls_fairness_list)


def plot_data_bar_plot(quic_result, tcp_result):
    print("\n\nquic res: ", quic_result)
    print("\n\ntcp res: ", tcp_result)

    ind = np.arange(0, 3 * 0.45, 0.45)  # the x locations for the groups
    # width = 0.35  # the width of the bars
    width = 0.15  # the width of the bars

    fig = plt.figure(figsize=(15, 10))
    ay1 = plt.subplot(211)

    print("\nquic result", quic_result)
    print("\ntcp result", tcp_result)

    rects1 = plt.bar(ind - width/2, quic_result, width,
                     color='#ff7f00', label="QUIC")
    rects2 = plt.bar(ind + width/2, tcp_result, width,
                     color='#4daf4a', label="TCP/TLS")

    plt.ylabel('Goodput/rate [%]', fontsize=15)
    plt.xticks(ind)

    ay1.set_xticklabels(('500 KBit/s', '250 KBit/s', '50 KBit/s'), fontsize=15)

    plt.yticks(yticks_list)
    #plt.xlabel(('500', '250', '50'), fontsize=15)
    # we dont need that plt.gca().invert_xaxis()
    plt.grid(color='darkgray', linestyle=':')
    autolabel(ay1, rects1, "left")
    autolabel(ay1, rects2, "right")

    ax = plt.gca()
    ax.set_facecolor('white')
    plt.setp(ax.spines.values(), color='black')
    legend = plt.legend()
    legend_frame = legend.get_frame()
    legend_frame.set_facecolor('white')

    # second plot

    plt.subplots_adjust(hspace=0.5)
    msmt_name = os.path.basename(__file__)[:-3]
    result_file = shared.prepare_result(msmt_name)

    fig.savefig(result_file, bbox_inches='tight')


def autolabel(ax, rects, xpos='center'):
    xpos = xpos.lower()  # normalize the case of the parameter
    ha = {'center': 'center', 'right': 'left', 'left': 'right'}
    offset = {'center': 0.5, 'right': 0.57, 'left': 0.43}  # x_txt = x + w*off

    for rect in rects:
        height = rect.get_height()
        ax.text(rect.get_x() + rect.get_width()*offset[xpos], 1.01*height,
                '{}'.format(height), ha=ha[xpos], va='bottom')


# this is outdated
def plot_data_smoothing_total(gp_avg, protocol):
    zero_x_axis_conn1 = []
    zero_x_axis_conn2 = []
    zero_y_axis_conn1 = []
    zero_y_axis_conn2 = []
    zero_xticks_list = []

    one_x_axis_conn1 = []
    one_x_axis_conn2 = []
    one_y_axis_conn1 = []
    one_y_axis_conn2 = []
    one_xticks_list = []

    two_x_axis_conn1 = []
    two_x_axis_conn2 = []
    two_y_axis_conn1 = []
    two_y_axis_conn2 = []
    two_xticks_list = []

    three_x_axis_conn1 = []
    three_x_axis_conn2 = []
    three_y_axis_conn1 = []
    three_y_axis_conn2 = []
    three_xticks_list = []

    rate = []
    for key, value in gp_avg.items():
        # key is now the specific rate
        # and value is the corresponding total_result

        if key == analyzing_rates[0]:
            print("plotting intra fairness for rate: ", key)
            zero_x_axis_conn1 = value[0][0]
            zero_x_axis_conn2 = value[0][1]

            zero_y_axis_conn1 = value[1][0]

            zero_y_axis_conn2 = value[1][1]

            last_x_conn1 = zero_x_axis_conn1[-1]
            last_x_conn2 = zero_x_axis_conn2[-1]

            if last_x_conn1 >= last_x_conn2:
                last_x = last_x_conn1
            else:
                last_x = last_x_conn2

            current_x = 0
            zero_xticks_list.append(current_x)

            while current_x < last_x:
                current_x = current_x + 20
                zero_xticks_list.append(current_x)

        elif key == analyzing_rates[1]:
            print("plotting intra fairness for rate: ", key)

            one_x_axis_conn1 = value[0][0]
            one_x_axis_conn2 = value[0][1]

            one_y_axis_conn1 = value[1][0]

            one_y_axis_conn2 = value[1][1]

            last_x_conn1 = one_x_axis_conn1[-1]
            last_x_conn2 = one_x_axis_conn2[-1]

            if last_x_conn1 >= last_x_conn2:
                last_x = last_x_conn1
            else:
                last_x = last_x_conn2

            current_x = 0
            one_xticks_list.append(current_x)

            while current_x < last_x:
                current_x = current_x + 20
                one_xticks_list.append(current_x)

        elif key == analyzing_rates[2]:
            print("plotting intra fairness for rate: ", key)

            two_x_axis_conn1 = value[0][0]
            two_x_axis_conn2 = value[0][1]

            two_y_axis_conn1 = value[1][0]

            two_y_axis_conn2 = value[1][1]

            last_x_conn1 = two_x_axis_conn1[-1]
            last_x_conn2 = two_x_axis_conn2[-1]

            if last_x_conn1 >= last_x_conn2:
                last_x = last_x_conn1
            else:
                last_x = last_x_conn2

            current_x = 0
            two_xticks_list.append(current_x)

            while current_x < last_x:
                current_x = current_x + 20
                two_xticks_list.append(current_x)
    # first plot
    fig = plt.figure(figsize=(11, 9))
    ay1 = plt.subplot(411)

    plt.plot(zero_x_axis_conn1, zero_y_axis_conn1, marker='v',
             markersize=4, color='#377eb8', label="QUIC1")
    plt.plot(zero_x_axis_conn2, zero_y_axis_conn2, marker='v',
             markersize=4, color='#4daf4a', label="QUIC2")

    plt.ylabel('Goodput/rate [%]')
    plt.xlabel('time [s]', labelpad=0)
    plt.xticks(zero_xticks_list)
    plt.yticks(yticks_list)

    plt.legend()

    # we dont need that plt.gca().invert_xaxis()
    plt.grid(color='darkgray', linestyle=':')
    plt.title('Rate: {} KBit/s'.format(500))

    plt.subplot(412)

    plt.plot(one_x_axis_conn1, one_y_axis_conn1, marker='v',
             markersize=4, color='#377eb8', label="QUIC1")
    plt.plot(one_x_axis_conn2, one_y_axis_conn2, marker='v',
             markersize=4, color='#4daf4a', label="QUIC2")

    plt.ylabel('Goodput/rate [%]')
    plt.xlabel('time [s]', labelpad=0)
    plt.xticks(one_xticks_list)
    plt.yticks(yticks_list)

    plt.legend()
    # we dont need that plt.gca().invert_xaxis()
    plt.grid(color='darkgray', linestyle=':')
    plt.title('Rate: {} KBit/s'.format(250))

    plt.subplot(413)

    plt.plot(two_x_axis_conn1, two_y_axis_conn1, marker='v',
             markersize=4, color='#377eb8', label="QUIC1")
    plt.plot(two_x_axis_conn2, two_y_axis_conn2, marker='v',
             markersize=4, color='#4daf4a', label="QUIC2")

    plt.ylabel('Goodput/rate [%]')
    plt.xlabel('time [s]', labelpad=0)
    plt.xticks(two_xticks_list)
    plt.yticks(yticks_list)

    plt.legend()
    # we dont need that plt.gca().invert_xaxis()
    plt.grid(color='darkgray', linestyle=':')
    plt.title('Rate: {} KBit/s'.format(50))

    plt.subplots_adjust(hspace=0.5)
    msmt_name = os.path.basename(__file__)[:-3] + "{}".format(protocol)
    result_file = shared.prepare_result(msmt_name)
    fig.suptitle("Intra-Protocol-Fairness: {}\n".format(protocol))

    fig.savefig(result_file, bbox_inches='tight')


def main(ctx):
    run_test(ctx)
